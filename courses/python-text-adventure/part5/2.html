---
layout: standardStandardPage
---

<div class="home">

<P>
OK, hopefully you're happy the code is alright. Open it up and give you a quick overview of 
how it works.
</P>
<P>
Overall the code avoids using a massive number of if-else statements by instead reading in a 
map file which is a grid of numbers. Each number is used to run a different function and the 
player's location in the grid is represented by two variables <code>current_x</code> and 
<code>current_y</code>. To represent the player moving around, we change these variables and 
then for each move look at the number in the grid and run the appropriate function.
</P>
<P>
The map grid is held in a two dimensional <em>array</em>. Arrays are variables that can 
hold more than one data value. In Python it's easier to use a type of variable called a <code>list</code>, 
but at this level you can think of them as the same as an array in other languages. 
A one dimensional list might look like this:
</P>
<P>
<CODE>map_line = [1,0,0,5,0]</CODE>
</P>
<P>
Each position in the list has a position, numbered from zero, and so we'd use it like this:
</P>
<P>
<CODE>if (map_line[0] == 6) or (map_line[1] == 3) :</CODE>
</P> 
<P>
That is, check the values at the first ("[0]") and second ("[1]") positions. I know it seems 
crazy to start counting at zero for the first position, but trust me, you get used to it.
</P>
<P>
A two dimensional list is exactly the same, but you can imagine that there are multiple lists, 
each one kept in a vertical list, like this:
</P>
<P>
<code>
map_data[0] = map_line0<br>
map_data[1] = map_line1<br>
map_data[2] = map_line2<br>
map_data[3] = map_line3<br>
</code>
</P>
<P>
That is...
</P>
<P>
<code>
map_data[0] = [1,0,0,5,0]<br>
map_data[1] = [5,1,0,1,2]<br>
map_data[2] = [1,2,6,6,2]<br>
map_data[3] = [3,4,0,8,0]<br>
</code>
</P>
<P>
You can then use this like:
</P>
<P>
<CODE>if (map_line[1][3] == 3) :</CODE>
</P> 
<P>
Where the first number is the line and the second the position across the line.
</P>
<P>
Now comes the really clever bit. If we have a <code>current_x</code> and 
<code>current_y</code> we can do this:
</P>
<P>
<code>current_x = 1</code><BR>
<code>current_y = 3</code><BR>
<CODE>if (map_line[current_x][current_y] == 3) :</CODE>
</P>
<P>
If we want to move the player down, we can increase <code>current_y</code> by one:
<P>
<code>current_y = current_y + 1</code>
</p>
<P>
If we want to move the player right, we can increase <code>current_x</code> by one:
<P>
<code>current_x = current_x + 1</code>
</p>
<p>
And then to check the new position, we can again use:
<p>
<CODE>if (map_line[current_x][current_y] == 3) :</CODE>
</P>
<P>
If it is "3", we can call an appropriate function. So, for example, assuming 
"3" is a monster: 
</p>
<p>
<CODE>if (map_line[current_x][current_y] == 3) :<br>
&nbsp;&nbsp;&nbsp;monster()</CODE>
</P>
<P>
There's a few additional bits in the code: for example, we use zeros to be walls in the 
map that players can't walk through and we use the <code>len()</code> built in function to 
find the length of lists so the code can read in grids of any size, but otherwise that's pretty much all that is going on 
in the code other than the code to read in the file.
</P>
<P>
Have a look through the code, and read the comments and see if you can work out 
what it does at each stage. We'll then look at how you can change it to add new 
bits to the game.
</P>  

[<A href="../index.html">Home</A> &gt; <A href="index.html">Part 5</A> &gt; <A href="3.html">Next</A>]

</div>